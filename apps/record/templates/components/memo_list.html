{% load user_tags %} 
{% load book_tags %}

<ol id="memo-list">
  {% for memo in memos %}
  {% comment %} TODO コンポーネント化する {% endcomment %}
  <li class="memo-item">
    <div class="memo-item__image">{% book_icon memo.book "sm" %}</div>

    <div class="memo-item__info">
      <div class="memo-item__info-header">
        {% user_icon memo.user "xs" %}
        <p class="memo-item__info-time">{{ memo.created_at }}</p>
      </div>
      <p class="memo-item__content">{{ memo.content }}</p>
    </div>

    <div class="memo-item__tool">
      {% if memo.user == request.user %}
      <button
        class="memo-item__delete"
        data-memo-id="{{ memo.id }}"
        data-action="{% url 'memo_detail_api' memo.id %}"
      >
        <i class="fa-xl fa-regular fa-trash-can" style="color: #666"></i>
      </button>
      {%endif%}
    </div>
  </li>
  {% empty %}
  <div id="no-memo-title">メモが存在しません</div>
  {% endfor %}
</ol>
